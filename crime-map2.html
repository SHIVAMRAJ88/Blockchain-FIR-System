<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>India Crime Analysis</title>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

 <style>
  /* Base Styles */
  body {
    margin: 0;
    padding: 0;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    background: radial-gradient(circle at center, #1e2a44 0%, #0f0c29 100%);
    font-family: 'Poppins', sans-serif; /* Modern Font */
    color: #fff;
  }

  /* Glassmorphism Card Effect */
  .card {
    background: rgba(255, 255, 255, 0.05); /* Semi-transparent */
    backdrop-filter: blur(15px); /* Blur effect */
    -webkit-backdrop-filter: blur(15px);
    color: #fff;
    width: 950px;
    max-width: 95%;
    padding: 40px;
    border-radius: 24px;
    border: 1px solid rgba(255, 255, 255, 0.1); /* Thin border */
    box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
    text-align: center;
    animation: slideUp 0.8s ease-out;
  }

  h2 {
    margin-bottom: 5px;
    font-size: 28px;
    letter-spacing: 1px;
    background: linear-gradient(to right, #a29bfe, #6c5ce7);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent; /* Gradient Text */
  }

  p {
    margin-top: 0;
    color: #b2bec3;
    font-size: 14px;
    text-transform: uppercase;
    letter-spacing: 2px;
    margin-bottom: 30px;
  }

  /* Chart Container Styling */
  .chart-container {
    position: relative;
    width: 100%;
    height: 550px;
    background: rgba(0, 0, 0, 0.2);
    padding: 20px;
    border-radius: 15px;
    border: 1px dashed rgba(255, 255, 255, 0.05);
  }

  /* Back Button (Optional - but good for navigation) */
  .back-nav {
    position: absolute;
    top: 20px;
    left: 20px;
    color: #6c5ce7;
    text-decoration: none;
    font-size: 14px;
    transition: 0.3s;
  }

  .back-nav:hover {
    color: #fff;
    transform: translateX(-5px);
  }

  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(40px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Custom Scrollbar for Legend if it overflows */
  ::-webkit-scrollbar {
    width: 8px;
  }
  ::-webkit-scrollbar-track {
    background: transparent;
  }
  ::-webkit-scrollbar-thumb {
    background: #6c5ce7;
    border-radius: 10px;
  }

  .home-btn {
    position: fixed;
    top: 25px;
    left: 25px;
    padding: 12px 25px;
    background: rgba(255, 255, 255, 0.1);
    color: #fff;
    text-decoration: none;
    border-radius: 50px;
    font-weight: 600;
    font-size: 15px;
    border: 1px solid rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(10px);
    transition: all 0.3s ease;
    z-index: 2000;
    display: flex;
    align-items: center;
    gap: 8px;
}

.home-btn:hover {
    background: #6c5ce7;
    border-color: #a29bfe;
    transform: scale(1.1);
    box-shadow: 0 0 20px rgba(108, 92, 231, 0.6);
}

/* Page load security check animation */
@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}
</style>
</head>
<body>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

<a href="#" class="home-btn" id="goHome">
    <i class="fas fa-home"></i> Home
</a>

<div class="card">
  <h2>Crime Distribution by Type</h2>
  <p>India â€“ 28 States (Visual Analysis)</p>

  <div class="chart-container">
    <canvas id="crimeChart"></canvas>
  </div>
</div>

<script>
  const crimeTotals = {
    "Theft": 288,
    "Assault": 325,
    "Fraud": 410,
    "Robbery": 445,
    "Naxal Crime": 60,
    "Tourist Theft": 40,
    "Vehicle Theft": 130,
    "Burglary": 35,
    "Cyber Crime": 305,
    "Arms Act": 25,
    "Drug Crime": 170,
    "Extortion": 22,
    "Domestic Crime": 26,
    "Violent Crime": 200
  };

  const ctx = document.getElementById("crimeChart");

  new Chart(ctx, {
    type: "pie",
    data: {
      labels: Object.keys(crimeTotals),
      datasets: [{
        data: Object.values(crimeTotals),
        borderWidth: 2,
        borderColor: "#fff",
        backgroundColor: [
          "#ff6384","#36a2eb","#ffce56","#4bc0c0",
          "#9966ff","#ff9f40","#e74c3c","#2ecc71",
          "#9b59b6","#f1c40f","#1abc9c","#34495e",
          "#e67e22","#95a5a6"
        ]
      }]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      animation: {
        animateRotate: true,
        duration: 1800,
        easing: "easeOutQuart"
      },
      plugins: {
        legend: {
          position: "right",
          labels: {
            boxWidth: 18,
            padding: 15
          }
        },
        tooltip: {
          callbacks: {
            label: function(context) {
              return context.label + ": " + context.parsed + " cases";
            }
          }
        }
      }
    }
  });

  // Home Button click logic with Login Check
document.getElementById("goHome").addEventListener("click", function(e) {
    e.preventDefault();
    const isLoggedIn = localStorage.getItem("isLoggedIn");

    if (isLoggedIn === "true") {
        window.location.href = "homepage.html";
    } else {
        alert("Session expired. Please login again.");
        window.location.href = "login.html";
    }
});

// Security: If not logged in, auto-redirect to login
window.onload = function() {
    if (localStorage.getItem("isLoggedIn") !== "true") {
        window.location.href = "login.html";
    }
};
</script>

</body>
</html>